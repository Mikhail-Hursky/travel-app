{"version":3,"sources":["components/context/context.jsx","components/logo/logo.tsx","components/login/login.tsx","redux/actionTypes.ts","components/lang/lang.tsx","redux/action/langAction.ts","components/toolbar/toolbar.tsx","components/search/search.js","components/header/header.tsx","components/wrap-title/wrap-title.tsx","components/card/card.tsx","redux/action/countryAction.ts","components/loader/Loader.tsx","Constants.ts","components/list-cards/List-cards.tsx","components/wrap/wrap.tsx","components/home/home.tsx","components/header-country/header-country.tsx","components/map/map.tsx","components/country-description/country-description.tsx","components/item-gallery/item-gallery.tsx","components/gallery/gallery.tsx","components/widget/time.tsx","components/widget/weather.tsx","components/widget/exchange.tsx","components/widget/widget.tsx","components/video/video.tsx","components/country/country.tsx","components/footer/footer.tsx","components/modal-login/modal-login.tsx","components/modal-registration/modal-registration.tsx","components/app/App.js","redux/reducer/countryReducer.ts","redux/reducer/langReducer.ts","redux/reducer/rootReducer.ts","index.tsx","components/map/mapLang.js"],"names":["Context","React","createContext","Logo","href","Login","lang","useSelector","state","changeModal","useContext","className","onClick","LANG","COUNTRY","Lang","dispatch","useDispatch","value","onChange","event","str","target","type","payload","Toolbar","Search","props","res","itemsSearch","bind","resultSearch","resetSearch","Array","from","document","querySelectorAll","forEach","item","classList","contains","remove","querySelector","add","listDataCountry","map","textContent","listDataCapital","concat","filter","toLowerCase","includes","countries","capitals","i","length","textCountry","textCapital","parent","parentElement","style","transition","this","console","log","name","autoComplete","autoFocus","placeholder","onInput","Component","Header","WrapTitle","Card","listItems","items","id","data-country","to","image","capital","country","img","src","alt","toString","Loader","URL","ListCards","useState","setCountry","useEffect","axios","get","then","response","arr","data","index","push","_id","Wrap","Home","HeaderCountry","mapboxgl","accessToken","Map","setTimeout","container","center","lat","lon","zoom","addControl","MapboxLanguage","defaultLanguage","FullscreenControl","on","Marker","setLngLat","addTo","addSource","url","addLayer","source","paint","iso","CountryDescription","description","ItemGallery","list","e","tagName","toggle","body","itemPrev","previousElementSibling","lastElementChild","itemNext","nextElementSibling","children","title","preview","Gallery","images","en","ru","fr","rate","Time","time","setTime","day","setDay","timeZone","today","Date","setUTCHours","getUTCHours","hour","getHours","min","getMinutes","sec","getSeconds","week","getDay","getDate","month","getMonth","year","getFullYear","d","language","showWeekDay","m","showMonth","Weather","temp","humidity","wind","weather","setWeather","main","speed","apiKey","Usd","ratesUSD","setRatesUSD","dataUSD","rates","conversion_rates","undefined","currency","Eur","ratesEUR","setRatesEUR","dataEUR","Exchange","Widget","Video","width","height","link","allow","Country","setResponse","window","scrollTo","post","latLon","video","Footer","ModalLogin","visability","onSubmit","preventDefault","method","email","password","loginUser","ModalRegistration","nickName","localStorage","setItem","token","accept","App","domLoading","setDomLoading","classNamePreloader","setClassNamePreloader","onload","modalLogin","setModalLogin","modalRegistration","setModalRegistration","Provider","css","size","color","path","component","initialState","getItem","rootReducer","combineReducers","action","store","createStore","app","ReactDOM","render","getElementById","options","Object","assign","Error","setLanguage","_initialStyleUpdate","_defaultLanguage","_isLanguageField","languageField","_getLanguageField","getLanguageField","_languageSource","languageSource","_languageTransform","languageTransform","changedLayers","layers","layer","layout","spacing","noSpacing","test","standardSpacing","_excludedLayerIds","excludedLayerIds","supportedLanguages","isTokenField","isFlatExpressionField","isLangField","property","isGetExpression","isArray","warn","adaptNestedExpressionField","languageFieldName","adaptPropertyLanguage","defaultProp","slice","prototype","indexOf","streetsSource","sources","keys","sourceName","findStreetsSource","field","changeLayerTextProperty","languageStyle","_map","getStyle","navigator","languages","userLanguage","parts","split","languageCode","browserLanguage","off","setStyle","onAdd","_container","createElement","onRemove","module","exports"],"mappings":"iMAEaA,EAAUC,IAAMC,gB,8BCYdC,MATf,WAIE,OACE,6BAAI,oBAAGC,KAAK,cAAR,UAAsB,+BAHF,YAG2B,+BAJjC,oB,8CCYPC,MAVf,WACE,IAAMC,EAAeC,aAAY,SAACC,GAAD,OAAkBA,EAAMF,KAAKA,QACvDG,EAAeC,qBAAWV,GAA1BS,YACP,OACE,qBAAKE,UAAU,QAAf,SACE,wBAAQC,QAAS,kBAAIH,EAAY,UAAjC,SAAqD,OAATH,EAAgB,SAAoB,OAATA,EAAgB,2BAAS,cCZzFO,EAAO,YAKPC,EAAU,kB,MCoBRC,MAlBf,WACE,IAAMT,EAAOC,aAAY,SAACC,GAAD,OAAkBA,EAAMF,KAAKA,QAChDU,EAAWC,cAKjB,OACE,qBAAKN,UAAU,OAAf,SACE,yBAAQO,MAAOZ,EAAMa,SAJJ,SAACC,GAAD,OAAgBJ,GCXZK,EDWgCD,EAAME,OAAOJ,MCXhB,CACtDK,KAAMV,EACNW,QAASH,KAFe,IAACA,GDerB,UACE,wBAAQH,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,sB,MEHOO,MATf,WACE,OACE,sBAAKd,UAAU,UAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,QCLOe,G,MAAb,kDACE,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IACDC,IAAM,GACX,EAAKC,YAAc,EAAKA,YAAYC,KAAjB,gBACnB,EAAKC,aAAe,EAAKA,aAAaD,KAAlB,gBACpB,EAAKE,YAAc,EAAKA,YAAYF,KAAjB,gBALF,EADrB,+CASE,WACEG,MAAMC,KAAKC,SAASC,iBAAiB,UAAUC,SAAQ,SAACC,GACnDA,EAAKC,UAAUC,SAAS,WACzBF,EAAKC,UAAUE,OAAO,aAIbN,SAASO,cAAc,iBAC/BxB,MAAQ,KAjBjB,0BAoBE,WAAgB,IAAD,OACbe,MAAMC,KAAKC,SAASC,iBAAiB,UAAUC,SAAQ,SAACC,GAClDA,EAAKC,UAAUC,SAAS,WAC1BF,EAAKC,UAAUI,IAAI,aAIvB,IAAIC,EAAkBX,MAAMC,KAAKC,SAASC,iBAAiB,gBACtCS,KAAI,SAACP,GAAD,OAAUA,EAAKQ,eACpCC,EAAkBd,MAAMC,KAAKC,SAASC,iBAAiB,gBACtCS,KAAI,SAACP,GAAD,OAAUA,EAAKQ,eACzBF,EAAgBI,OAAOD,GAChBE,QAAO,SAACX,GAAD,OAAUA,EAAKY,cAAcC,SAAS,EAAKvB,IAAIsB,kBAErEL,KAAI,SAACP,GAGV,IAFA,IAAMc,EAAYjB,SAASC,iBAAiB,eACtCiB,EAAWlB,SAASC,iBAAiB,eACnCkB,EAAI,EAAGA,EAAIF,EAAUG,OAAQD,IAAM,CACzC,IAAIE,EAAcJ,EAAUE,GAAGR,YAC3BW,EAAcJ,EAASC,GAAGR,YAC9B,GAAGU,EAAYL,SAASb,IAASmB,EAAYN,SAASb,GAAO,CAC3D,IAAIoB,EAASN,EAAUE,GAAGK,cAAcA,cAAcA,cAAcA,cACjED,EAAOnB,UAAUC,SAAS,YAC3BkB,EAAOnB,UAAUE,OAAO,UACxBiB,EAAOE,MAAMC,WAAa,kBA5CtC,yBAmDE,SAAYzC,GACV0C,KAAKlC,IAAMR,EAAME,OAAOJ,MACxB6C,QAAQC,IAAIF,KAAKlC,KAEjBkC,KAAK/B,iBAvDT,oBA2DC,WACC,OACI,sBAAKpB,UAAU,SAAf,UACE,uBACEY,KAAK,OACL0C,KAAK,SACLtD,UAAU,eACVuD,aAAc,MACdC,WAAW,EACXC,YAAY,wBACZC,QAASP,KAAKjC,cAEhB,wBAAQlB,UAAU,QAAQC,QAASkD,KAAK9B,YAAxC,eACA,cAAC,EAAD,WAxER,GAA4B/B,IAAMqE,Y,MCenBC,MAZf,WACE,IAAMjE,EAAOC,aAAY,SAACC,GAAD,OAAkBA,EAAMF,KAAKA,QACtD,OACE,mCACE,cAAC,EAAD,IACA,cAAC,EAAD,IACA,mBAAGK,UAAU,cAAb,SAAqC,OAATL,EAAgB,eAA0B,OAATA,EAAgB,wFAAoB,sB,MCExFkE,MAXf,WACE,IAAMlE,EAAeC,aAAY,SAACC,GAAD,OAAkBA,EAAMF,KAAKA,QAE9D,OACE,sBAAKK,UAAU,mBAAf,UACE,4BAAa,OAATL,EAAgB,iBAA4B,OAATA,EAAgB,8CAAa,uBACpE,4BAAa,OAATA,EAAgB,aAAwB,OAATA,EAAgB,6EAAmB,yB,oBC8B7DmE,MAlCf,SAAc9C,GACZ,IAAMrB,EAAeC,aAAY,SAACC,GAAD,OAAkBA,EAAMF,KAAKA,QACxDU,EAAWC,cAEbyD,EAAY/C,EAAMgD,MA2BtB,OAzBAD,EAAYA,EAAU7B,KAAI,SAACP,EAAWgB,GAAZ,OACxB,qBAEE3C,UAAS,eAAU2B,EAAKsC,GAAf,SACTC,eAAcvC,EAAKsC,GAHrB,SAKE,cAAC,IAAD,CAAME,GAAG,WAAT,SACE,qBACEnE,UAAU,eACVC,QAAS,WCrBU,IAC3BqD,EACAc,EACAC,EDmBUhE,GCrBViD,EDqBiC3B,EAAK2C,QCpBtCF,EDoB+CzC,EAAK4C,ICnBpDF,EDmByD1C,EAAK0C,QClB1D,CACJzD,KAAMT,EACNU,QAAS,CACPyC,OACAc,QACAC,eDUI,SAME,sBAAKrE,UAAU,UAAf,UACE,qBAAKA,UAAU,cAAf,SACE,qBAAKwE,IAAK7C,EAAK4C,IAAKE,IAAI,OAE1B,6BAAK9C,EAAK2C,QAAQ3E,KAClB,6BAAKgC,EAAK0C,QAAQ1E,aAhBnBgD,EAAE+B,eAuBJ,qBAAK1E,UAAU,eAAf,SAA+B+D,K,MErCzB,SAASY,IACtB,OACE,sBAAK3E,UAAU,aAAf,UACE,wBACA,2B,qBCPO4E,EAAM,kCCoCJC,MA3Bf,WAAsB,IAAD,EACWC,mBAAoB,IAD/B,mBACZR,EADY,KACHS,EADG,KAoBnB,OAjBAC,qBAAU,WACRC,IAAMC,IAAIN,GAAKO,MAAK,SAACC,GACnB,IAAMC,EAAa,GACnB,GAAID,EAASE,KAAM,CACjB,IAAK,IAAIC,EAAQ,EAAGA,EAAQH,EAASE,KAAK1C,OAAQ2C,IAChDF,EAAIG,KAAK,CACPC,IAAKF,EACLhB,IAAKa,EAASE,KAAKC,GAAOhB,IAC1BD,QAAQ,eAAMc,EAASE,KAAKC,GAAOjB,SACnCD,QAAQ,eAAMe,EAASE,KAAKC,GAAOlB,WAGvCU,EAAWM,SAGd,CAACN,IAGF,qBAAK/E,UAAU,sBAAf,SACsB,IAAnBsE,EAAQ1B,OAAe,cAAC,EAAD,CAAMoB,MAAOM,IAAc,cAAC,EAAD,O,MCb1CoB,MAVf,WAEE,OACE,sBAAK1F,UAAU,OAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,Q,MCKS2F,MAVf,WAEE,OACE,gCACE,cAAC,EAAD,IACA,cAAC,EAAD,Q,YCUSC,MAbf,WACE,IAAMjG,EAAOC,aAAY,SAACC,GAAD,OAAkBA,EAAMF,KAAKA,QACtD,OACE,yBAAQK,UAAU,UAAlB,UACE,cAAC,EAAD,IACA,qBAAKA,UAAU,kBAAf,SACE,cAAC,EAAD,MAEF,mBAAGA,UAAU,cAAb,SAAqC,OAATL,EAAgB,eAA0B,OAATA,EAAgB,wFAAoB,sB,iCCXvGkG,IAASC,YACP,uGAQF,IA+CeC,EA/CH,SAAC/E,GACX,IAAMrB,EAAeC,aAAY,SAACC,GAAD,OAAkBA,EAAMF,KAAKA,QA2C9D,OAzCAqG,YAAW,WACT,IAAM9D,EAAM,IAAI2D,IAASE,IAAI,CAC3BE,UAAW,MACXhD,MAAO,qCACPiD,OAAQ,CAAClF,EAAMmF,IAAKnF,EAAMoF,KAC1BC,KAAM,IAERnE,EAAIoE,WAAW,IAAIC,IAAe,CAAEC,gBAAiB7G,KACrDuC,EAAIoE,WAAW,IAAIT,IAASY,mBAG5BvE,EAAIwE,GAAG,QAAQ,YACb,IAAIb,IAASc,QAClBC,UAAU,CAAC5F,EAAMmF,IAAKnF,EAAMoF,MAC5BS,MAAM3E,GACDA,EAAI4E,UAAU,YAAa,CACzBlG,KAAM,SACNmG,IAAK,0CAGP7E,EAAI8E,SACF,CACE/C,GAAI,iBACJrD,KAAM,OACNqG,OAAQ,YACR,eAAgB,qBAChBC,MAAO,CACL,aAAc,CACZ,QACA,CAAC,MAAO,sBAFI,UAGTlG,EAAMmG,KACT,uBACA,sBAIN,4BAGH,GAEI,qBAAKlD,GAAG,S,MCdFmD,MArCf,SAA4BpG,GAC1B,IAAMsD,EAAU1E,aAAY,SAACC,GAAD,OAAkBA,EAAMyE,QAAQhB,QACtD3D,EAAOC,aAAY,SAACC,GAAD,OAAkBA,EAAMF,KAAKA,QAChD0E,EAAUzE,aAAY,SAACC,GAAD,OAAkBA,EAAMyE,QAAQD,WACtDD,EAAQxE,aAAY,SAACC,GAAD,OAAkBA,EAAMyE,QAAQF,SAE1D,OACE,sBAAKpE,UAAU,2BAAf,UACE,sBAAKA,UAAU,qBAAf,UACE,sBAAKA,UAAU,oBAAf,UACE,oBAAIA,UAAU,UAAd,SAAyBsE,EAAUA,EAAQ3E,GAAQ,KACnD,oBAAIK,UAAU,UAAd,SAAyBqE,EAAUA,EAAQ1E,GAAQ,KACnD,qBAAKK,UAAU,oBAAf,SACE,4BAAIgB,EAAMqG,YAAY1H,UAG1B,qBAAKK,UAAU,yBAAf,SACE,qBAAKwE,IAAKJ,GAAgB,GAAIK,IAAKH,EAAUA,EAAQ3E,GAAQ,UAGjE,sBAAKK,UAAU,mBAAf,UACE,qBAAKA,UAAU,MAAf,SACE,qBAAKA,UAAU,WAAf,SACE,cAAC,EAAD,CAAKmG,IAAKnF,EAAMoF,IAAKA,IAAKpF,EAAMmF,IAAKgB,IAAKnG,EAAMmG,UAGpD,sBAAKnH,UAAU,WAAf,UACE,6BAAc,OAATL,EAAgB,mBAA8B,OAATA,EAAgB,0GAAuB,qCACjF,oBAAIK,UAAU,eAAd,SAAuC,OAATL,EAAgB,aAAwB,OAATA,EAAgB,sEAAiB,iBAC9F,oBAAIK,UAAU,eAAd,SAAuC,OAATL,EAAgB,SAAoB,OAATA,EAAgB,wFAAoB,iBAC7F,oBAAIK,UAAU,iBAAd,SAAyC,OAATL,EAAgB,wBAAmC,OAATA,EAAgB,4GAAyB,mD,MC0C9G2H,MAzEf,SAAqBtG,GACnB,IAAMrB,EAAeC,aAAY,SAACC,GAAD,OAAkBA,EAAMF,KAAKA,QAC1DoE,EAAY/C,EAAMuG,KAoEtB,OAlEAxD,EAAYA,EAAU7B,KAAI,SAACP,EAAWgB,GAyCpC,OACE,qBAEE3C,UAAS,eAAU2B,EAAKsC,GAAf,SACTC,eAAcvC,EAAKsC,GACnBhE,QA7CJ,SAAmBuH,GACjB,IAAI7G,EAAS6G,EAAE7G,OACf,GAAsB,WAAnBA,EAAO8G,QAAsB,CAC9B,KAAyB,OAAnB9G,EAAO8G,SACX9G,EAASA,EAAOqC,cAElBrC,EAAOiB,UAAU8F,OAAO,QACxBlG,SAASmG,KAAK/F,UAAU8F,OAAO,aAkCjC,UAME,wBAAQ1H,UAAU,OAAOC,QAnC7B,SAAkBuH,GAChB,IACI7F,EADS6F,EAAE7G,OACGqC,cAClBrB,EAAKC,UAAUE,OAAO,QAEtB,IAAI8F,EAAWjG,EAAKkG,uBACjBD,EACDA,EAAShG,UAAUI,IAAI,SAEvB4F,EAAWjG,EAAKqB,cAAc8E,kBACrBlG,UAAUI,IAAI,SAyBvB,kBACA,wBAAQhC,UAAU,OAAOC,QAtB7B,SAAkBuH,GAChB,IACI7F,EADS6F,EAAE7G,OACGqC,cAClBrB,EAAKC,UAAUE,OAAO,QAEtB,IAAIiG,EAAWpG,EAAKqG,mBACjBD,EACDA,EAASnG,UAAUI,IAAI,SAEvB+F,EAAWpG,EAAKqB,cAAciF,SAAS,IAC9BrG,UAAUI,IAAI,SAYvB,kBACA,sBAAKhC,UAAU,YAAf,UAEE,sBAAKA,UAAU,YAAf,UACE,qBAAKwE,IAAK7C,EAAK6C,IAAKC,IAAI,KACxB,qBAAKzE,UAAU,eAAf,SACE,6BAAK2B,EAAKuG,MAAMvI,UAGpB,qBAAKK,UAAU,eAAf,SACE,4BAAI2B,EAAKwG,QAAQxI,YAhBhBgD,EAAE+B,eAuBN,oBAAI1E,UAAU,eAAd,SAA8B+D,K,MC7CxBqE,MA1Bf,SAAiBpH,GACf,IAAMuG,EAAOvG,EAAMqH,OAAOnG,KAAI,SAACkC,GAAD,MAAiB,CAC7CH,GAAIG,EAAMqB,IACVjB,IAAKJ,EAAMG,IACX2D,MAAO,CACLI,GAAIlE,EAAMd,KAAKgF,GACfC,GAAInE,EAAMd,KAAKiF,GACfC,GAAIpE,EAAMd,KAAKkF,IAEjBL,QAAS,CACPG,GAAIlE,EAAMiD,YAAYiB,GACtBC,GAAInE,EAAMiD,YAAYkB,GACtBC,GAAIpE,EAAMiD,YAAYmB,IAExBC,KAAMrE,EAAMqE,SAGd,OACE,qBAAKzI,UAAU,UAAf,SACE,qBAAKA,UAAU,eAAf,SACE,cAAC,EAAD,CAAauH,KAAMA,S,MC2FZmB,MAvCf,SAAc1H,GAAa,IAAD,EACD8D,mBAAS,IADR,mBAClB6D,EADkB,KACZC,EADY,OAEF9D,mBAAS,IAFP,mBAEjB+D,EAFiB,KAEZC,EAFY,KAGlBnJ,EAAcC,aAAY,SAACC,GAAD,OAAkBA,EAAMF,KAAKA,QACzDoJ,EAAe,CACjB,OAAU,KACV,MAAS,IACT,MAAS,KACT,OAAU,KACV,MAAS,IACT,KAAQ,KACR,OAAU,KACV,YAAa,MAmBjB,OAjBE/D,qBAAU,WACT,IAAIgE,EAAQ,IAAIC,KAChBD,EAAME,YAAYF,EAAMG,gBAAiBJ,EAAS/H,EAAMqD,QAAQiE,KAChE,IAAIc,EAAOJ,EAAMK,WACjBC,EAAMN,EAAMO,aACZC,EAAMR,EAAMS,aACZC,EAAOV,EAAMW,SACbd,EAAMG,EAAMY,UACZC,EAAQb,EAAMc,WACdC,EAAOf,EAAMgB,cAEfhE,YAAW,WACT4C,EAAQ,GAAD,OAAIQ,EAAJ,YAAYE,EAAM,GAAK,IAAIA,EAAMA,EAAjC,YAAwCE,EAAM,GAAK,IAAIA,EAAMA,IACpEV,EAAO,GAAD,OApGT,SAAqBmB,EAAOC,GAC3B,OAAQD,GACJ,KAAK,EACDA,EAAI,CAAC,GAAK,SAAU,GAAM,qEAAe,GAAM,SAC/C,MACJ,KAAK,EACDA,EAAI,CAAC,GAAK,UAAW,GAAM,6CAAW,GAAM,SAC5C,MACJ,KAAK,EACDA,EAAI,CAAC,GAAK,YAAa,GAAM,iCAAS,GAAM,YAC5C,MACJ,KAAK,EACDA,EAAI,CAAC,GAAK,WAAY,GAAM,6CAAW,GAAM,SAC7C,MACJ,KAAK,EACDA,EAAI,CAAC,GAAK,SAAU,GAAM,6CAAW,GAAM,YAC3C,MACJ,KAAK,EACDA,EAAI,CAAC,GAAK,WAAY,GAAM,6CAAW,GAAM,UAC7C,MACJ,KAAK,EACDA,EAAI,CAAC,GAAK,SAAU,GAAM,qEAAe,GAAM,YAKvD,OAAOA,EAAEC,GA0EGC,CAAYT,EAAM/J,GAAtB,aAvET,SAAmByK,EAAOF,GACzB,OAAQE,GACJ,KAAK,EACDA,EAAI,CAAC,GAAK,UAAW,GAAM,uCAAU,GAAM,WAC3C,MACJ,KAAK,EACDA,EAAI,CAAC,GAAK,WAAY,GAAM,6CAAW,GAAM,cAC7C,MACJ,KAAK,EACDA,EAAI,CAAC,GAAK,QAAS,GAAM,2BAAQ,GAAM,QACvC,MACJ,KAAK,EACDA,EAAI,CAAC,GAAK,QAAS,GAAM,uCAAU,GAAM,SACzC,MACJ,KAAK,EACDA,EAAI,CAAC,GAAK,MAAO,GAAM,qBAAO,GAAM,QACpC,MACJ,KAAK,EACDA,EAAI,CAAC,GAAK,OAAQ,GAAM,2BAAQ,GAAM,QACtC,MACJ,KAAK,EACDA,EAAI,CAAC,GAAK,OAAQ,GAAM,2BAAQ,GAAM,WACtC,MACJ,KAAK,EACDA,EAAI,CAAC,GAAK,SAAU,GAAM,uCAAU,GAAM,WAC1C,MACJ,KAAK,EACDA,EAAI,CAAC,GAAK,YAAa,GAAM,mDAAY,GAAM,aAC/C,MACJ,KAAK,EACDA,EAAI,CAAC,GAAK,UAAW,GAAM,6CAAW,GAAM,WAC5C,MACJ,KAAK,GACDA,EAAI,CAAC,GAAK,WAAY,GAAM,uCAAU,GAAM,YAC5C,MACJ,KAAK,GACDA,EAAI,CAAC,GAAK,WAAY,GAAM,6CAAW,GAAM,eAKrD,OAAOA,EAAEF,GA8B+BG,CAAUR,EAAOlK,GAAjD,YAA0DkJ,EAA1D,aAAkEkB,MACvE,QAIH,sBAAK/J,UAAU,iBAAf,UACO,sBAAMA,UAAU,OAAhB,SAAwB6I,IACxB,sBAAM7I,UAAU,OAAhB,SAAwB2I,QClEjB2B,MAzCf,SAAiBtJ,GAAa,IAAD,EACE8D,mBAAqB,CAAC,CAACb,GAAI,GAAIsG,KAAM,EAAGC,SAAU,GAAIC,KAAM,KAD9D,mBACrBC,EADqB,KACZC,EADY,KAGtBhL,EAAcC,aAAY,SAACC,GAAD,OAAkBA,EAAMF,KAAKA,QACvD2F,EAAOoF,EAAQ,GAoBpB,OAhBD1F,qBAAU,WACTC,IAAMC,IAAN,4DAA+DlE,EAAMqD,QAAN,GAA/D,kEAAmJc,MAAK,SAACC,GACvJ,IAAMC,EAAa,GACfD,EAASE,OACTD,EAAIG,KAAK,CACR+E,KAAMnF,EAASE,KAAKsF,KAAKL,KACzBtG,GAAImB,EAASE,KAAKoF,QAAQ,GAAGzG,GAC7BuG,SAAUpF,EAASE,KAAKsF,KAAKJ,SAC7BC,KAAMrF,EAASE,KAAKmF,KAAKI,QAG5BF,EAAWtF,SAGd,CAACsF,IAGJ,sBAAK3K,UAAU,UAAf,UACU,sBAAKA,UAAU,eAAf,UACE,+BAAOgB,EAAMqD,QAAQ1E,KACrB,sBAAKK,UAAU,oBAAf,UACE,mBAAGA,UAAS,+BAA0BsF,EAAKrB,MAC3C,qBAAKjE,UAAU,cAAf,mBAAiCsF,EAAKiF,KAAtC,iBAGJ,sBAAKvK,UAAU,eAAf,UACI,qBAAKA,UAAU,WAAf,mBA7BO,CAAC,GAAM,WAAY,GAAM,yDAAa,GAAM,eA6BZL,GAAvC,aAAiD2F,EAAKkF,SAAtD,OACA,qBAAKxK,UAAU,OAAf,mBA7BI,CAAC,GAAM,aAAc,GAAM,kFAAkB,GAAM,mBA6BxBL,GAA/B,aAAyC2F,EAAKmF,KAA9C,YAA+D,OAAT9K,EAAgB,4BAAU,kBCjCxFmL,EAAS,2BACf,SAASC,EAAI/J,GAAa,IAINN,EAJK,EACQoE,mBAAsB,IAD9B,mBACjBkG,EADiB,KACPC,EADO,KAElBtL,EAAOC,aAAY,SAACC,GAAD,OAAkBA,EAAMF,KAAKA,QA0BvD,OAZAqF,qBAAU,WACTC,IAAMC,IAAN,6CAAgD4F,EAAhD,gBAAqE3F,MAAK,SAACC,GACzE,IAAM8F,EAAiB,GACnB9F,EAASE,OACT4F,EAAQ1F,KAAK,CACX2F,MAAO/F,EAASE,KAAK8F,mBAEzBH,EAAYC,SAGd,CAACD,IAGkB,IAApBD,EAASpI,aAAwCyI,IAAtBL,EAAS,GAAGG,MAAuB,sBAAKnL,UAAU,oBAAf,eAA+C,OAATL,EAAgB,MAAiB,OAATA,EAAgB,qBAAQ,MAAtF,OAAoGqL,EAAS,GAAGG,MAAMnK,EAAMsK,UAA5H,KAzB5C5K,EAyB8LM,EAAMsK,SAxB1M,QAAR5K,EACc,OAATf,EAAgB,MAAiB,OAATA,EAAgB,oDAAc,MAEnD,QAARe,EACc,OAATf,EAAgB,MAAiB,OAATA,EAAgB,2BAAS,MAE9C,QAARe,EACc,OAATf,EAAgB,MAAiB,OAATA,EAAgB,2BAAS,WAD1D,MAkByO,cAAC,EAAD,IAI3O,SAAS4L,EAAIvK,GAAY,IAAD,EACS8D,mBAAsB,IAD/B,mBAChB0G,EADgB,KACNC,EADM,KAevB,IAZoB/K,EAYdf,EAAOC,aAAY,SAACC,GAAD,OAAkBA,EAAMF,KAAKA,QAYvD,OAXIqF,qBAAU,WACTC,IAAMC,IAAN,6CAAgD4F,EAAhD,gBAAqE3F,MAAK,SAACC,GACzE,IAAMsG,EAAiB,GACnBtG,EAASE,OACToG,EAAQlG,KAAK,CACX2F,MAAO/F,EAASE,KAAK8F,mBAEzBK,EAAYC,SAGf,CAACD,IAEe,IAApBD,EAAS5I,aAAwCyI,IAAtBG,EAAS,GAAGL,MAAuB,sBAAKnL,UAAU,oBAAf,eAA+C,OAATL,EAAgB,MAAiB,OAATA,EAAgB,oDAAc,MAA5F,OAA0G6L,EAAS,GAAGL,MAAMnK,EAAMsK,UAAlI,KAzB3C5K,EAyBmMM,EAAMsK,SAxB5M,QAAR5K,EACc,OAATf,EAAgB,MAAiB,OAATA,EAAgB,oDAAc,MAEnD,QAARe,EACc,OAATf,EAAgB,MAAiB,OAATA,EAAgB,2BAAS,MAE9C,QAARe,EACc,OAATf,EAAgB,MAAiB,OAATA,EAAgB,2BAAS,WAD1D,MAkB2O,cAAC,EAAD,IAiBlOgM,MAbf,SAAkB3K,GAClB,IAAMrB,EAAcC,aAAY,SAACC,GAAD,OAAkBA,EAAMF,KAAKA,QAE5D,OACC,sBAAKK,UAAU,WAAf,UACQ,oBAAIA,UAAU,iBAAd,SAHQ,CAAC,GAAM,iBAAkB,GAAM,kFAAkB,GAAM,qBAGzBL,KAEtC,cAACoL,EAAD,CAAKO,SAAUtK,EAAMsK,WACrB,cAACC,EAAD,CAAKD,SAAUtK,EAAMsK,eC5DhBM,MAbf,SAAgB5K,GAEd,OACE,qBAAKhB,UAAU,SAAf,SACE,sBAAKA,UAAU,cAAf,UACE,cAAC,EAAD,CAAMqE,QAASrD,EAAMsE,KAAKhB,QAAQD,UAClC,cAAC,EAAD,CAASA,QAASrD,EAAMsE,KAAKhB,QAAQD,UACrC,cAAC,EAAD,CAAUiH,SAAUtK,EAAMsK,iB,MCInBO,MAff,SAAe7K,GACb,OACE,qBAAKhB,UAAU,QAAf,SACE,qBAAKA,UAAU,aAAf,SACE,wBACE8L,MAAM,MACNC,OAAO,MACPvH,IAAKxD,EAAMgL,KACXC,MAAM,kGC2CDC,MAxCf,WACE,IAAM5H,EAAU1E,aAAY,SAACC,GAAD,uBAAkBA,EAAMyE,QAAQhB,YAAhC,aAAkB,EAAoBgF,MAC5DjE,EAAUzE,aAAY,SAACC,GAAD,OAAkBA,KAF7B,EAGeiF,mBAAqB,MAHpC,mBAGVM,EAHU,KAGA+G,EAHA,KAajB,OARAnH,qBAAU,WACRoH,OAAOC,SAAS,EAAG,GACnBpH,IAAMqH,KAAK1H,EAAM,UAAW,CAAEN,QAASA,IAAWa,MAAK,SAAUC,GAE/D+G,EAAY/G,EAASE,WAEtB,CAAC6G,IAEC/G,EASD,gCACE,cAAC,EAAD,IACA,cAAC,EAAD,CACEiC,YAAajC,EAAWA,EAASiC,YAAc,GAC/ClB,IAAKf,EAASmH,OAAOpG,IACrBC,IAAKhB,EAASmH,OAAOnG,IACrBe,IAAK/B,EAAS+B,MAEhB,cAAC,EAAD,CAASkB,OAAQjD,EAASiD,SAC1B,sBAAKrI,UAAU,oBAAf,UACE,cAAC,EAAD,CAAOgM,KAAM5G,EAASoH,QACtB,cAAC,EAAD,CAAQlH,KAAMjB,EAASiH,SAAUlG,EAASkG,iBAlB9C,qCACE,cAAC,EAAD,IACA,cAAC,EAAD,Q,MCLOmB,OArBf,WAEE,OACE,mCACE,qBAAKzM,UAAU,WAAf,SACE,cAAC,EAAD,MAEF,qBAAKA,UAAU,YAAf,SACE,+BACE,6BAAI,mBAAGP,KAAK,oCAAR,8BACJ,6BAAI,mBAAGA,KAAK,qCAAR,gCACJ,6BAAI,mBAAGA,KAAK,gCAAR,gCACJ,6BAAI,mBAAGA,KAAK,kCAAR,4BACJ,6BAAI,uCACJ,oBAAIO,UAAU,cAAd,SAA4B,mBAAGP,KAAK,2BAA2BkB,OAAO,SAASuH,MAAM,yBC2BhFwE,I,MArC8C,SAAC,GAAiC,IAAhCC,EAA+B,EAA/BA,WACtD7M,EAAeC,qBAAWV,GAA1BS,YAcP,OACE,qBAAKE,UAAW2M,EAAa,QAAU,qBAAvC,SACE,sBAAK3M,UAAU,aAAf,UACE,wBAAQA,UAAU,QAAQC,QAAS,kBAAMH,EAAY,UAArD,eACA,uBAAM8M,SAAU,SAACpF,GAAD,OAAQA,EAAEqF,iBAhBhC,SAAmBrF,GACjBpE,QAAQC,IAAImE,GACVvC,IAAM,CACH6H,OAAQ,OACR/F,IAAK,4CACLzB,KAAM,CACJyH,MAAOvF,EAAE7G,OAAO,GAAGJ,MACnByM,SAAUxF,EAAE7G,OAAO,GAAGJ,SAEvB4E,MAAK,SAAAC,GAAQ,OAAIhC,QAAQC,IAAI+B,EAASE,SAOI2H,CAAUzF,IAAtD,UACE,sBAAKxH,UAAU,QAAf,UACE,4CAAsB,uBAAOY,KAAK,OAAO0C,KAAK,aAEhD,sBAAKtD,UAAU,WAAf,UACE,+CAAyB,uBAAOY,KAAK,WAAW0C,KAAK,gBAEvD,sBAAKtD,UAAU,UAAf,UACE,wBAAQA,UAAU,KAAlB,gBACA,uCACA,wBAAQA,UAAU,eAAeC,QAAS,kBAAOH,EAAY,SAAUA,EAAY,iBAAnF,uC,MCwFGoN,OApH4D,SAAC,GAErE,IADLP,EACI,EADJA,WAEQ7M,EAAgBC,qBAAWV,GAA3BS,YAER,OACE,qBACEE,UACE2M,EACI,qBACA,+CAJR,SAOE,sBAAK3M,UAAU,aAAf,UACE,wBAAQA,UAAU,QAAQC,QAAS,kBAAMH,EAAY,iBAArD,eAGA,uBACE8M,SAAU,SAACpF,GA6CrB,IACE2F,EACAJ,EACAC,EA9CUxF,EAAEqF,iBA4CZM,EA1CmB3F,EAAE7G,OAAO,GAAGJ,MA2C/BwM,EA3CqCvF,EAAE7G,OAAO,GAAGJ,MA4CjDyM,EA5CuDxF,EAAE7G,OAAO,GAAGJ,MAAMiH,EAAE7G,OA+C3EsE,IACGqH,KAAK1H,EAAM,oBAAqB,CAC/BuI,WACAH,WACAD,UAED5H,MAAK,SAACC,GACLhC,QAAQC,IAAI+B,EAASE,MACrB8H,aAAaC,QAAQ,QAASjI,EAASE,KAAKgI,WA5D1C,UAQE,sBAAKtN,UAAU,QAAf,UACE,4CACA,uBAAOY,KAAK,OAAO0C,KAAK,gBAE1B,sBAAKtD,UAAU,QAAf,UACE,6CACA,uBAAOY,KAAK,QAAQ0C,KAAK,aAE3B,sBAAKtD,UAAU,WAAf,UACE,+CACA,uBAAOY,KAAK,WAAW0C,KAAK,gBAE9B,sBAAKtD,UAAU,SAAf,UACE,6CACA,uBAAOY,KAAK,OAAO0C,KAAK,SAASiK,OAAO,6BAE1C,sBAAKvN,UAAU,UAAf,UACE,wBAAQY,KAAK,SAASZ,UAAU,KAAhC,gBAGA,uCACA,wBACEA,UAAU,eACVC,QAAS,SAACuH,GAAD,OACP1H,EAAY,gBACZA,EAAY,SACZ0H,EAAEqF,kBALN,gCCNGW,OApCf,WAAgB,IAAD,EACuB1I,oBAAS,GADhC,mBACN2I,EADM,KACMC,EADN,OAEuC5I,mBAAS,aAFhD,mBAEN6I,EAFM,KAEcC,EAFd,KAGb5I,qBAAU,WACRoH,OAAOyB,OAAU,SAACpN,GACfmN,EAAsB,8BACtB5H,YAAW,kBAAM0H,GAAc,KAAO,SAN9B,MASsB5I,oBAAS,GAT/B,mBASPgJ,EATO,KASKC,EATL,OAUoCjJ,oBAAS,GAV7C,mBAUPkJ,EAVO,KAUYC,EAVZ,KAkBb,OACE,cAAC5O,EAAQ6O,SAAT,CAAkB3N,MAAO,CACvBT,YARL,SAAqBa,GACpB,MAAkB,UAAXA,EAAqBoN,GAAeD,GAAcG,GAAsBD,KAM7E,SAGA,cAAC,IAAD,UACE,sBAAKhO,UAAU,MAAf,UACGyN,EAAa,GAAK,qBAAKzN,UAAW2N,EAAhB,SAAoC,cAAC,eAAD,CAAcQ,IAAI,kEAAkEC,KAAM,IAAKC,MAAM,cAC5J,cAAC,IAAD,CAAOC,KAAK,cAAcC,UAAW5I,IACrC,cAAC,IAAD,CAAO2I,KAAK,WAAUC,UAAWrC,IACjC,cAAC,GAAD,IACA,cAAC,GAAD,CAAYS,WAAYmB,IACxB,cAAC,GAAD,CAAmBnB,WAAYqB,Y,SC3CjCQ,GAAe,CACnBlL,KAAM,KACNc,MAAO,KACPC,QAAS,MCHLmK,GAAmB,CACvB7O,KAAMyN,aAAaqB,QAAQ,YAAcrB,aAAaqB,QAAQ,YAAc,MCCjEC,GAAcC,aAAgB,CACzChP,KDCyB,WAAwC,IAAvCE,EAAsC,uDAA9B2O,GAAcI,EAAgB,uCAChE,OAAQA,EAAOhO,MACb,KAAKV,EAEH,OADAkN,aAAaC,QAAQ,WAAYuB,EAAO/N,SACjC,2BAAKhB,GAAZ,IAAmBF,KAAMiP,EAAO/N,UAClC,QACE,OAAOhB,ICNXyE,QFE4B,WAAwC,IAAvCzE,EAAsC,uDAA9B2O,GAAcI,EAAgB,uCACnE,OAAQA,EAAOhO,MACb,KAAKT,EACH,OAAO,2BACFN,GADL,IAEEyD,KAAMsL,EAAO/N,QAAQyC,KACrBc,MAAOwK,EAAO/N,QAAQuD,MACtBC,QAASuK,EAAO/N,QAAQwD,UAE5B,QACE,OAAOxE,MGTPgP,GAAQC,aAAYJ,IAEpBK,GACJ,cAAC,IAAD,CAAUF,MAAOA,GAAjB,SACE,cAAC,GAAD,MAIJG,IAASC,OAAOF,GAAKvN,SAAS0N,eAAe,U,0ECjB7C,YAAe,SAAS3I,EAAe4I,GAEtC,GADAA,EAAUC,OAAOC,OAAO,GAAIF,KACtBhM,gBAAgBoD,GACpB,MAAM,IAAI+I,MAAM,0DAGlBnM,KAAKoM,YAAcpM,KAAKoM,YAAYpO,KAAKgC,MACzCA,KAAKqM,oBAAsBrM,KAAKqM,oBAAoBrO,KAAKgC,MAEzDA,KAAKsM,iBAAmBN,EAAQ3I,gBAChCrD,KAAKuM,iBAAmBP,EAAQQ,eAAiB,SACjDxM,KAAKyM,kBAAoBT,EAAQU,kBAAoB,SAAmB3F,GACtE,MAAoB,QAAbA,EAAqB,OAArB,eAAsCA,IAE/C/G,KAAK2M,gBAAkBX,EAAQY,gBAAkB,KACjD5M,KAAK6M,mBAAqBb,EAAQc,mBAAqB,SAAUhN,EAAOiH,GACtE,MAAiB,OAAbA,EAsEP,SAAmBjH,GAClB,IAAIiN,EAAgBjN,EAAMkN,OAAOjO,KAAI,SAAUkO,GAC7C,KAAMA,EAAMC,QAAU,IAAI,cAAe,OAAOD,EAChD,IAAIE,EAAU,EACd,OAAOlB,OAAOC,OAAO,GAAIe,EAAO,CAC9BC,OAAQjB,OAAOC,OAAO,GAAIe,EAAMC,OAAQ,CACtC,sBAAuBC,SAK7B,OAAOlB,OAAOC,OAAO,GAAIpM,EAAO,CAC9BkN,OAAQD,IAjFCK,CAAUtN,GAStB,SAAyBA,GACxB,IAAIiN,EAAgBjN,EAAMkN,OAAOjO,KAAI,SAAUkO,GAC7C,KAAMA,EAAMC,QAAU,IAAI,cAAe,OAAOD,EAChD,IAAIE,EAAU,EA6Cd,MA5C8B,gBAA1BF,EAAM,kBACRE,EAAU,KAEkB,iBAA1BF,EAAM,kBACJ,MAAMI,KAAKJ,EAAMnM,MACnBqM,EAAU,KAER,MAAME,KAAKJ,EAAMnM,MACnBqM,EAAU,KAER,MAAME,KAAKJ,EAAMnM,MACnBqM,EAAU,KAGgB,gBAA1BF,EAAM,kBACJ,UAAUI,KAAKJ,EAAMnM,MACvBqM,EAAU,KAER,aAAaE,KAAKJ,EAAMnM,MAC1BqM,EAAU,IAER,SAASE,KAAKJ,EAAMnM,MACtBqM,EAAU,MAGgB,kBAA1BF,EAAM,kBACRE,EAAU,KAEkB,uBAA1BF,EAAM,kBACRE,EAAU,KAEkB,cAA1BF,EAAM,iBACJ,aAAaI,KAAKJ,EAAMnM,MAC1BqM,EAAU,KAGgB,eAA1BF,EAAM,kBACJ,UAAUI,KAAKJ,EAAMnM,MACvBqM,EAAU,KAER,WAAWE,KAAKJ,EAAMnM,MACxBqM,EAAU,MAGPlB,OAAOC,OAAO,GAAIe,EAAO,CAC9BC,OAAQjB,OAAOC,OAAO,GAAIe,EAAMC,OAAQ,CACtC,sBAAuBC,SAK7B,OAAOlB,OAAOC,OAAO,GAAIpM,EAAO,CAC9BkN,OAAQD,IA/DCO,CAAgBxN,IAG3BE,KAAKuN,kBAAoBvB,EAAQwB,kBAAoB,GACrDxN,KAAKyN,mBAAqBzB,EAAQyB,oBAAsB,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAAO,KAAM,KAAM,UAAW,WAvBxI,kCAsGA,IAAIC,EAAe,UACnB,SAASC,EAAsBC,EAAaC,GAC3C,IAAIC,EAAkB3P,MAAM4P,QAAQF,IAA6B,QAAhBA,EAAS,GAK1D,OAJIC,GAAmBJ,EAAaL,KAAKQ,EAAS,KAChD5N,QAAQ+N,KAAK,yLAGRF,GAAmBF,EAAYP,KAAKQ,EAAS,IAGrD,SAASI,EAA2BL,EAAaC,EAAUK,GAC1D,GAAI/P,MAAM4P,QAAQF,GAChB,IAAK,IAAIrO,EAAI,EAAGA,EAAIqO,EAASpO,OAAQD,IAC/BrB,MAAM4P,QAAQF,EAASrO,MACrBmO,EAAsBC,EAAaC,EAASrO,MAC9CqO,EAASrO,GAAG,GAAK0O,GAEnBD,EAA2BL,EAAaC,EAASrO,GAAI0O,IAM5D,SAASC,EAAsBP,EAAaC,EAAUK,GAQrD,GAPIP,EAAsBC,EAAaC,KACrCA,EAAS,GAAKK,GAGhBD,EAA2BL,EAAaC,EAAUK,GAG9B,QAAhBL,EAAS,IAAgC,SAAhBA,EAAS,GAAe,CACnD,IAAIO,EAAcP,EAASQ,QAE3BR,EAAW,CAAC,WADM,CAAC,MAAOK,GACWE,GAGvC,OAAOP,EA+BRzK,EAAekL,UAAUlC,YAAc,SAAUtM,EAAOiH,GACvD,GAAI/G,KAAKyN,mBAAmBc,QAAQxH,GAAY,EAAG,MAAM,IAAIoF,MAAM,YAAcpF,EAAW,qBAC5F,IAAIyH,EAAgBxO,KAAK2M,iBAnB1B,SAA2B7M,GAC1B,IAAI2O,EAAUxC,OAAOyC,KAAK5O,EAAM2O,SAAStP,QAAO,SAAUwP,GACxD,IAAI/K,EAAM9D,EAAM2O,QAAQE,GAAY/K,IAGpC,OAAOA,GAAOA,EAAI2K,QAAQ,6BAA+B,GAAK,6BAA6BlB,KAAKzJ,MAElG,IAAK6K,EAAQhP,OAAQ,MAAM,IAAI0M,MAAM,qHACrC,OAAOsC,EAAQ,GAW6BG,CAAkB9O,GAC9D,IAAK0O,EAAe,OAAO1O,EAE3B,IAAI+O,EAAQ7O,KAAKyM,kBAAkB1F,GAC/B6G,EAAc5N,KAAKuM,iBACnBiB,EAAmBxN,KAAKuN,kBACxBR,EAAgBjN,EAAMkN,OAAOjO,KAAI,SAAUkO,GAC7C,OAAIA,EAAMnJ,SAAW0K,EArCxB,SAAiCZ,EAAaX,EAAOiB,EAAmBV,GACvE,OAAIP,EAAMC,QAAUD,EAAMC,OAAO,gBAAyD,IAAxCM,EAAiBe,QAAQtB,EAAMnM,IACxEmL,OAAOC,OAAO,GAAIe,EAAO,CAC9BC,OAAQjB,OAAOC,OAAO,GAAIe,EAAMC,OAAQ,CACtC,aAAciB,EAAsBP,EAAaX,EAAMC,OAAO,cAAegB,OAI5EjB,EA6BsC6B,CAAwBlB,EAAaX,EAAO4B,EAAOrB,GACvFP,KAGL8B,EAAgB9C,OAAOC,OAAO,GAAIpM,EAAO,CAC3CkN,OAAQD,IAGV,OAAO/M,KAAK6M,mBAAmBkC,EAAehI,IAG/C3D,EAAekL,UAAUjC,oBAAsB,WAC9C,IAAIvM,EAAQE,KAAKgP,KAAKC,WAClBlI,EAAW/G,KAAKsM,kBAOrB,SAAyBmB,GACxB,IAAI1G,EAAWmI,UAAUC,UAAYD,UAAUC,UAAU,GAAMD,UAAUnI,UAAYmI,UAAUE,aAC3FC,EAAQtI,EAASuI,MAAM,KACvBC,EAAexI,EACfsI,EAAM5P,OAAS,IACjB8P,EAAeF,EAAM,IAEvB,GAAI5B,EAAmBc,QAAQgB,IAAiB,EAC9C,OAAOA,EAET,OAAO,KAjBiCC,CAAgBxP,KAAKyN,oBAG7DzN,KAAKgP,KAAKS,IAAI,YAAazP,KAAKqM,qBAChCrM,KAAKgP,KAAKU,SAAS1P,KAAKoM,YAAYtM,EAAOiH,KAgB5C3D,EAAekL,UAAUqB,MAAQ,SAAU5Q,GAI1C,OAHAiB,KAAKgP,KAAOjQ,EACZiB,KAAKgP,KAAKzL,GAAG,YAAavD,KAAKqM,qBAC/BrM,KAAK4P,WAAavR,SAASwR,cAAc,OAClC7P,KAAK4P,YAGbxM,EAAekL,UAAUwB,SAAW,WACnC9P,KAAKgP,KAAKS,IAAI,YAAazP,KAAKqM,qBAChCrM,KAAKgP,UAAO9G,GAGkD,qBAAnB6H,EAAOC,QAClDD,EAAOC,QAAU5M,EAEjB6F,OAAO7F,eAAiBA,I","file":"static/js/main.68486e29.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport const Context = React.createContext();","import React from 'react';\n\nimport \"./../../Normalize.css\";\nimport \"./logo.scss\";\n\nfunction Logo() {\n  const logo:string = 'Adventure';\n  const prefixLogo:string = '- the -';\n\n  return (\n    <h1><a href=\"/travel-app\"><span>{prefixLogo}</span><span>{logo}</span></a></h1>\n  )\n}\n\nexport default Logo;\n","import React, {useContext} from 'react';\nimport {Context} from '../context/context';\nimport { useSelector } from \"react-redux\";\nimport { State } from \"../../redux/stateInterface\";\n\nimport \"./../../Normalize.css\";\nimport \"./login.scss\";\n\nfunction Login() {\n  const lang: string = useSelector((state: State) => state.lang.lang);\n  const {changeModal} = useContext(Context);\n  return (\n    <div className=\"login\">\n      <button onClick={()=>changeModal('login')}>{lang === 'en' ? 'LOG IN' : lang === 'ru' ? 'Вход' : 'Entrer'}</button>\n    </div>\n  )\n}\n\nexport default Login;\n","//Lang\nexport const LANG = \"LANG/LANG\";\n\n\n// Country\n\nexport const COUNTRY = \"COUNTRY/COUNTRY\";","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { changeLang } from \"../../redux/action/langAction\";\nimport { State } from \"../../redux/stateInterface\";\n\nimport \"./../../Normalize.css\";\nimport \"./lang.scss\";\n\nfunction Lang() {\n  const lang = useSelector((state: State) => state.lang.lang);\n  const dispatch = useDispatch();\n\n  \n  const handleChange = (event: any) => dispatch(changeLang(event.target.value));\n\n  return (\n    <div className=\"lang\">\n      <select value={lang} onChange={handleChange} >\n        <option value=\"en\" >EN</option>\n        <option value=\"ru\" >RU</option>\n        <option value=\"fr\" >FR</option>\n      </select>\n    </div>\n  );\n}\n\nexport default Lang;\n","import { LANG } from \"../actionTypes\";\n\nexport const changeLang = (str: \"en\" | \"ru\" | \"fr\") => ({\n  type: LANG,\n  payload: str,\n});\n","import React from 'react';\n\nimport Login from './../login/login';\nimport Lang from './../lang/lang';\n\nimport \"./../../Normalize.css\";\nimport \"./toolbar.scss\";\n\nfunction Toolbar() {\n  return (\n    <div className=\"toolbar\">\n      <Login />\n      <Lang />\n    </div>\n  )\n}\n\nexport default Toolbar;\n","import React from 'react';\n\nimport Toolbar from './../toolbar/toolbar';\n\nimport \"./../../Normalize.css\";\nimport \"./search.scss\";\n\nexport class Search extends React.Component {\n  constructor(props) {\n    super(props);\n    this.res = '';\n    this.itemsSearch = this.itemsSearch.bind(this);\n    this.resultSearch = this.resultSearch.bind(this);\n    this.resetSearch = this.resetSearch.bind(this);\n  }\n\n  resetSearch() {\n    Array.from(document.querySelectorAll('.item')).forEach((item) => {\n      if(item.classList.contains('hidden')) {\n        item.classList.remove('hidden');\n      }\n    });\n\n    const item = document.querySelector('.input-search');\n    item.value = '';\n  }\n\n  resultSearch() {\n    Array.from(document.querySelectorAll('.item')).forEach((item) => {\n      if(!item.classList.contains('hidden')) {\n        item.classList.add('hidden');\n      }\n    });\n\n    let listDataCountry = Array.from(document.querySelectorAll('.country h4'))\n                        .map((item) => item.textContent);\n    let listDataCapital = Array.from(document.querySelectorAll('.country h5'))\n                        .map((item) => item.textContent);\n    let listData = listDataCountry.concat(listDataCapital);\n    let filter = listData.filter((item) => item.toLowerCase().includes(this.res.toLowerCase()));\n\n    filter.map((item) => {\n      const countries = document.querySelectorAll('.country h4');\n      const capitals = document.querySelectorAll('.country h5');\n      for(let i = 0; i < countries.length; i ++) {\n        let textCountry = countries[i].textContent;\n        let textCapital = capitals[i].textContent;\n        if(textCountry.includes(item) || textCapital.includes(item)) {\n          let parent = countries[i].parentElement.parentElement.parentElement.parentElement;\n          if(parent.classList.contains('hidden')) {\n            parent.classList.remove('hidden');\n            parent.style.transition = \"all .5s\";\n          }\n        }\n      }\n    })\n  }\n\n  itemsSearch(event) {\n    this.res = event.target.value;\n    console.log(this.res);\n    //можно живой поиск\n    this.resultSearch();\n  }\n\n\n\trender() {\n\t\treturn (\n      <div className=\"search\">\n        <input\n          type=\"text\"\n          name=\"search\"\n          className=\"input-search\"\n          autoComplete={'off'}\n          autoFocus={true}\n          placeholder=\"enter name country...\"\n          onInput={this.itemsSearch}\n        />\n        <button className=\"reset\" onClick={this.resetSearch}>x</button>\n        <Toolbar />\n      </div>\n\t\t);\n\t}\n}\n","import React from 'react';\nimport { useSelector } from \"react-redux\";\nimport { State } from \"../../redux/stateInterface\";\n\nimport Logo from './../logo/logo';\nimport { Search } from './../search/search.js';\n\nimport \"./../../Normalize.css\";\nimport \"./header.scss\";\n\nfunction Header() {\n  const lang = useSelector((state: State) => state.lang.lang);\n  return (\n    <header>\n      <Logo />\n      <Search />\n      <p className=\"description\">{lang === 'en' ? 'halcyon days' : lang === 'ru' ? 'безмятежные дни' : 'jours heureux'}</p>\n\n    </header>\n  )\n}\n\nexport default Header;\n","import React from 'react';\nimport { useSelector } from \"react-redux\";\nimport { State } from \"../../redux/stateInterface\";\n\nimport \"./../../Normalize.css\";\nimport \"./wrap-title.scss\";\n\nfunction WrapTitle() {\n  const lang: string = useSelector((state: State) => state.lang.lang);\n\n  return (\n    <div className=\"wrap-description\">\n      <p>{lang === 'en' ? 'ready for your' : lang === 'ru' ? 'Ты готов' : 'prêt pour votre'}</p>\n      <p>{lang === 'en' ? 'next trip?' : lang === 'ru' ? 'к путешествию?' : 'prochain voyage?'}</p>\n    </div>\n  )\n}\n\nexport default WrapTitle;\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { changeCountry } from \"../../redux/action/countryAction\";\nimport { State } from \"../../redux/stateInterface\";\n\nimport \"./../../Normalize.css\";\nimport \"./card.scss\";\n\nfunction Card(props: any) {\n  const lang: string = useSelector((state: State) => state.lang.lang);\n  const dispatch = useDispatch();\n\n  let listItems = props.items;\n\n  listItems = listItems.map((item: any, i: any) => (\n    <div\n      key={i.toString()}\n      className={`item-${item.id} item`}\n      data-country={item.id}\n    >\n      <Link to=\"/country\">\n        <div\n          className=\"wrap-country\"\n          onClick={() => {\n            dispatch(changeCountry(item.country, item.img, item.capital));\n          }}\n        >\n          <div className=\"country\">\n            <div className=\"country-img\">\n              <img src={item.img} alt=\"\" />\n            </div>\n            <h4>{item.country[lang]}</h4>\n            <h5>{item.capital[lang]}</h5>\n          </div>\n        </div>\n      </Link>\n    </div>\n  ));\n\n  return <div className=\"item-country\">{listItems}</div>;\n}\n\nexport default Card;\n","import { objLang } from \"../../interfaces/Country\";\nimport { COUNTRY } from \"../actionTypes\";\n\nexport const changeCountry = (\n  name: objLang,\n  image: string,\n  capital: objLang\n) => ({\n  type: COUNTRY,\n  payload: {\n    name,\n    image,\n    capital,\n  },\n});\n","import React from \"react\";\nimport \"./Loader.scss\";\n\nexport default function Loader() {\n  return (\n    <div className=\"lds-ripple\">\n      <div />\n      <div />\n    </div>\n  );\n}\n","export const URL = \"https://rs-react.herokuapp.com/\";\n","import React, { useEffect, useState } from \"react\";\nimport \"./../../Normalize.css\";\nimport \"./List-cards.scss\";\nimport Card from \"./../card/card\";\nimport Loader from \"../loader/Loader\";\nimport { Country } from \"../../interfaces/Country\";\nimport axios from \"axios\";\nimport { URL } from \"../../Constants\";\n\nfunction ListCards() {\n  const [country, setCountry] = useState<Country[]>([]);\n\n  useEffect(() => {\n    axios.get(URL).then((response) => {\n      const arr: any[] = [];\n      if (response.data) {\n        for (let index = 0; index < response.data.length; index++) {\n          arr.push({\n            _id: index,\n            img: response.data[index].img,\n            country: { ...response.data[index].country },\n            capital: { ...response.data[index].capital },\n          });\n        }\n        setCountry(arr);\n      }\n    });\n  }, [setCountry]);\n\n  return (\n    <div className=\"wrap-list-countries\">\n      {country.length !== 0 ? <Card items={country} /> : <Loader />}\n    </div>\n  );\n}\n\nexport default ListCards;\n","import React from 'react';\n\nimport WrapTitle from './../wrap-title/wrap-title';\nimport ListCards from './../list-cards/List-cards';\n\nimport \"./../../Normalize.css\";\nimport \"./wrap.scss\";\n\nfunction Wrap() {\n\n  return (\n    <div className=\"wrap\">\n      <WrapTitle />\n      <ListCards />\n    </div>\n  )\n}\n\nexport default Wrap;\n","import React from 'react';\n\nimport Header from './../header/header';\nimport Wrap from './../wrap/wrap';\n\nimport \"./../../Normalize.css\";\nimport \"./home.scss\";\n\nfunction Home() {\n\n  return (\n    <div>\n      <Header />\n      <Wrap />\n    </div>\n  )\n}\n\nexport default Home;\n","import React from 'react';\nimport { useSelector } from \"react-redux\";\nimport { State } from \"../../redux/stateInterface\";\n\nimport Logo from './../logo/logo';\nimport Toolbar from './../toolbar/toolbar';\n\nimport \"./../../Normalize.css\";\nimport \"./header-country.scss\";\n\nfunction HeaderCountry() {\n  const lang = useSelector((state: State) => state.lang.lang);\n  return (\n    <header className=\"country\">\n      <Logo />\n      <div className=\"toolbar-country\">\n        <Toolbar />\n      </div>\n      <p className=\"description\">{lang === 'en' ? 'halcyon days' : lang === 'ru' ? 'безмятежные дни' : 'jours heureux'}</p>\n    </header>\n  )\n}\n\nexport default HeaderCountry;\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { State } from \"../../redux/stateInterface\";\r\nimport \"./map.scss\";\r\nimport MapboxLanguage from \"./mapLang\";\r\nimport mapboxgl from \"mapbox-gl\";\r\n\r\nmapboxgl.accessToken =\r\n  \"pk.eyJ1IjoiZmVkb3JvdmljaHBhdmVsIiwiYSI6ImNraW5lcTkzMzBtMW8ycm81cTd6N3N3aDIifQ.botvkeUgOwWBdkRdCIwuWg\";\r\n\r\ninterface Props {\r\n  lat: number;\r\n  lon: number;\r\n  iso: string;\r\n}\r\n\r\nconst Map = (props: any) => {\r\n  const lang: string = useSelector((state: State) => state.lang.lang);\r\n\r\n  setTimeout(() => {\r\n    const map = new mapboxgl.Map({\r\n      container: \"map\",\r\n      style: \"mapbox://styles/mapbox/streets-v11\",\r\n      center: [props.lat, props.lon],\r\n      zoom: 3,\r\n    });\r\n    map.addControl(new MapboxLanguage({ defaultLanguage: lang }));\r\n    map.addControl(new mapboxgl.FullscreenControl());\r\n    \r\n\r\n    map.on(\"load\", function () {\r\n      new mapboxgl.Marker()\r\n.setLngLat([props.lat, props.lon])\r\n.addTo(map);\r\n      map.addSource(\"countries\", {\r\n        type: \"vector\",\r\n        url: \"mapbox://mapbox.country-boundaries-v1\",\r\n      });\r\n\r\n      map.addLayer(\r\n        {\r\n          id: \"countries-join\",\r\n          type: \"fill\",\r\n          source: \"countries\",\r\n          \"source-layer\": \"country_boundaries\",\r\n          paint: {\r\n            \"fill-color\": [\r\n              \"match\",\r\n              [\"get\", \"iso_3166_1_alpha_3\"],\r\n              `${props.iso}`,\r\n              \"rgba(255, 7, 7, 0.3)\",\r\n              \"rgba(0, 0, 0, 0)\",\r\n            ],\r\n          },\r\n        },\r\n        \"admin-1-boundary-bg\"\r\n      );\r\n    });\r\n  }, 0);\r\n\r\n  return <div id=\"map\"></div>;\r\n};\r\n\r\nexport default Map;\r\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { State } from \"../../redux/stateInterface\";\nimport Map from \"../map/map\";\n\n\nimport \"./../../Normalize.css\";\nimport \"./country-description.scss\";\n\nfunction CountryDescription(props: any) {\n  const country = useSelector((state: State) => state.country.name);\n  const lang = useSelector((state: State) => state.lang.lang);\n  const capital = useSelector((state: State) => state.country.capital);\n  const image = useSelector((state: State) => state.country.image);\n\n  return (\n    <div className=\"wrap-country-description\">\n      <div className=\"wrap-country-title\">\n        <div className=\"wrap-country-name\">\n          <h2 className=\"country\">{country ? country[lang] : \"\"}</h2>\n          <h2 className=\"capital\">{capital ? capital[lang] : \"\"}</h2>\n          <div className=\"wrap-country-info\">\n            <p>{props.description[lang]}</p>\n          </div>\n        </div>\n        <div className=\"wrap-country-title-img\">\n          <img src={image ? image : \"\"} alt={country ? country[lang] : \"\"} />\n        </div>\n      </div>\n      <div className=\"wrap-country-map\">\n        <div className=\"map\">\n          <div className=\"wrap-map\">\n            <Map lat={props.lon} lon={props.lat} iso={props.iso} />\n          </div>\n        </div>\n        <div className=\"map-info\">\n          <h3>{lang === 'en' ? 'Top Things To Do' : lang === 'ru' ? 'Лучшие развлечения' : 'Les meilleures choses à faire'}</h3>\n          <h4 className=\"map-info-one\">{lang === 'en' ? 'night life' : lang === 'ru' ? 'ночная жизнь' : 'vie nocturne'}</h4>\n          <h4 className=\"map-info-two\">{lang === 'en' ? 'hiking' : lang === 'ru' ? 'прогулки пешком' : 'randonnée'}</h4>\n          <h4 className=\"map-info-three\">{lang === 'en' ? 'cruises & water tours' : lang === 'ru' ? 'круизы и водные туры' : 'croisières et circuits aquatiques'}</h4>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default CountryDescription;\n","import React, { useContext } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Context } from \"../context/context\";\nimport { State } from \"../../redux/stateInterface\";\n\nimport \"./../../Normalize.css\";\nimport \"./item-gallery.scss\";\n\nfunction ItemGallery(props: any) {\n  const lang: string = useSelector((state: State) => state.lang.lang);\n  let listItems = props.list;\n\n  listItems = listItems.map((item: any, i: any) => {\n    function showModal(e: any) {\n      let target = e.target;\n      if(target.tagName !== 'BUTTON') {\n        while(target.tagName !== 'LI') {\n          target = target.parentElement;\n        }\n        target.classList.toggle('show');\n        document.body.classList.toggle('visible');\n      }\n\n    }\n\n    function showPrev(e: any) {\n      let target = e.target;\n      let item = target.parentElement;\n      item.classList.remove('show');\n\n      let itemPrev = item.previousElementSibling;\n      if(itemPrev) {\n        itemPrev.classList.add('show');\n      } else {\n        itemPrev = item.parentElement.lastElementChild;\n        itemPrev.classList.add('show');\n      }\n    }\n\n    function showNext(e: any) {\n      let target = e.target;\n      let item = target.parentElement;\n      item.classList.remove('show');\n\n      let itemNext = item.nextElementSibling;\n      if(itemNext) {\n        itemNext.classList.add('show');\n      } else {\n        itemNext = item.parentElement.children[0];\n        itemNext.classList.add('show');\n      }\n    }\n\n    return (\n      <li\n        key={i.toString()}\n        className={`item-${item.id} item`}\n        data-country={item.id}\n        onClick={showModal}\n      >\n        <button className=\"prev\" onClick = {showPrev}>prev</button>\n        <button className=\"next\" onClick = {showNext}>next</button>\n        <div className=\"wrap-show\">\n\n          <div className=\"wrap-item\">\n            <img src={item.src} alt=\"\" />\n            <div className=\"item-content\">\n              <h4>{item.title[lang]}</h4>\n            </div>\n          </div>\n          <div className=\"item-preview\">\n            <p>{item.preview[lang]}</p>\n          </div>\n        </div>\n      </li>\n    );\n  });\n\n  return <ul className=\"item-gallery\">{listItems}</ul>;\n}\n\nexport default ItemGallery;\n","import React from \"react\";\n\nimport ItemGallery from \"./../item-gallery/item-gallery\";\n\nimport \"./../../Normalize.css\";\nimport \"./gallery.scss\";\n\nfunction Gallery(props: any) {\n  const list = props.images.map((image: any) => ({\n    id: image._id,\n    src: image.img,\n    title: {\n      en: image.name.en,\n      ru: image.name.ru,\n      fr: image.name.fr,\n    },\n    preview: {\n      en: image.description.en,\n      ru: image.description.ru,\n      fr: image.description.fr,\n    },\n    rate: image.rate,\n  }));\n\n  return (\n    <div className=\"gallery\">\n      <div className=\"wrap-gallery\">\n        <ItemGallery list={list} />\n      </div>\n    </div>\n  );\n}\n\nexport default Gallery;\n","import React, {useEffect, useState} from 'react';\r\nimport { useSelector } from \"react-redux\";\r\nimport { State } from \"../../redux/stateInterface\";\r\nimport \"./../../Normalize.css\";\r\nimport \"./widget.scss\";\r\n\r\nfunction showWeekDay(d:any, language:string) {\r\n switch (d) {\r\n     case 1:\r\n         d = {'en':'Monday', 'ru': 'Понедельник', 'fr': 'Lundi'};\r\n         break;\r\n     case 2:\r\n         d = {'en':'Tuesday', 'ru': 'Вторник', 'fr': 'Mardi'};\r\n         break;\r\n     case 3:\r\n         d = {'en':'Wednesday', 'ru': 'Среда', 'fr': 'Mercredi'};\r\n         break;\r\n     case 4:\r\n         d = {'en':'Thursday', 'ru': 'Четверг', 'fr': 'Jeudi'};\r\n         break;\r\n     case 5:\r\n         d = {'en':'Friday', 'ru': 'Пятница', 'fr': 'Vendredi'};\r\n         break;\r\n     case 6:\r\n         d = {'en':'Saturday', 'ru': 'Суббота', 'fr': 'Samedi'};\r\n         break;\r\n     case 0:\r\n         d = {'en':'Sunday', 'ru': 'Воскресенье', 'fr': 'Dimanche'};\r\n         break;\r\n     default:\r\n         break;\r\n }\r\n return d[language];\r\n}\r\n\r\nfunction showMonth(m:any, language:string) {\r\n switch (m) {\r\n     case 0:\r\n         m = {'en':'January', 'ru': 'Январь', 'fr': 'Janvier'};\r\n         break;\r\n     case 1:\r\n         m = {'en':'February', 'ru': 'Февраль', 'fr': 'Février'};\r\n         break;\r\n     case 2:\r\n         m = {'en':'March', 'ru': 'Март', 'fr': 'Mars'};\r\n         break;\r\n     case 3:\r\n         m = {'en':'April', 'ru': 'Апрель', 'fr': 'Avril'};\r\n         break;\r\n     case 4:\r\n         m = {'en':'May', 'ru': 'Май', 'fr': 'Peut'};\r\n         break;\r\n     case 5:\r\n         m = {'en':'June', 'ru': 'Июнь', 'fr': 'Juin'};\r\n         break;\r\n     case 6:\r\n         m = {'en':'July', 'ru': 'Июль', 'fr': 'Juillet'};\r\n         break;\r\n     case 7:\r\n         m = {'en':'August', 'ru': 'Август', 'fr': 'Août'};\r\n         break;\r\n     case 8:\r\n         m = {'en':'September', 'ru': 'Сентябрь', 'fr': 'Septembre'};\r\n         break;\r\n     case 9:\r\n         m = {'en':'October', 'ru': 'Октябрь', 'fr': 'Octobre'};\r\n         break;\r\n     case 10:\r\n         m = {'en':'November', 'ru': 'Ноябрь', 'fr': 'Novembre'};\r\n         break;\r\n     case 11:\r\n         m = {'en':'December', 'ru': 'Декабрь', 'fr': 'Décembre'};\r\n         break;\r\n     default:\r\n         break;\r\n }\r\n return m[language];\r\n}\r\n\r\nfunction Time(props: any) {\r\n const [time, setTime] = useState('');\r\n  const [day, setDay] = useState('');\r\n  const lang:string = useSelector((state: State) => state.lang.lang);\r\nconst timeZone:any = {\r\n    'Athens': '-1',\r\n    'Minsk': '0',\r\n    'Paris': '-2',\r\n    'Berlin': '-2',\r\n    'Tokyo': '6',\r\n    'Rome': '-2',\r\n    'Madrid': '-2',\r\n    'New-Delhi': '-2'\r\n}\r\n  useEffect(()=> {\r\n   let today = new Date();\r\n   today.setUTCHours(today.getUTCHours() + +timeZone[props.capital.en]);\r\n   let hour = today.getHours(),\r\n   min = today.getMinutes(),\r\n   sec = today.getSeconds(),\r\n   week = today.getDay(),\r\n   day = today.getDate(),\r\n   month = today.getMonth(),\r\n   year = today.getFullYear();\r\n    \r\n setTimeout(()=> {\r\n   setTime(`${hour}:${min < 10 ? '0'+min : min}:${sec < 10 ? '0'+sec : sec}`);\r\n   setDay(`${showWeekDay(week, lang)}, ${showMonth(month, lang)} ${day}, ${year}`);\r\n }, 1000);\r\n });\r\n\r\nreturn (\r\n <div className=\"date-conteiner\">\r\n        <span className=\"days\">{day}</span>\r\n        <time className=\"time\">{time}</time>\r\n        </div>\r\n)\r\n}\r\n\r\nexport default Time;","import React, {useEffect, useState} from 'react';\r\nimport { useSelector } from \"react-redux\";\r\nimport { State } from \"../../redux/stateInterface\";\r\nimport { WeatherI } from \"../../interfaces/Country\";\r\nimport axios from \"axios\";\r\n\r\nfunction Weather(props: any) {\r\n const [weather, setWeather] = useState<WeatherI[]>([{id: '', temp: 0, humidity: '', wind: 0}]);\r\n\r\n const lang:string = useSelector((state: State) => state.lang.lang);\r\n const data = weather[0];\r\n const humidity:any= {'en': 'Humidity', 'ru': 'Влажность', 'fr': 'Humidité'};\r\n const wind:any = {'en': 'Wind speed', 'ru': 'Скорость ветра', 'fr': 'Vitesse du vent'};\r\n\r\n useEffect(() => {\r\n  axios.get(`https://api.openweathermap.org/data/2.5/weather?q=${props.capital['en']}&&lang=en&appid=ac9c43583866766e65ba2bc4a0d0f0ee&units=metric`).then((response) => {\r\n    const arr: any[] = [];\r\n    if (response.data) {\r\n        arr.push({\r\n         temp: response.data.main.temp,\r\n         id: response.data.weather[0].id,\r\n         humidity: response.data.main.humidity,\r\n         wind: response.data.wind.speed\r\n        });\r\n \r\n      setWeather(arr);\r\n    }\r\n  });\r\n}, [setWeather]);\r\n\r\n  return (\r\n<div className=\"weather\">\r\n          <div className=\"weather-city\">\r\n            <span>{props.capital[lang]}</span>\r\n            <div className=\"weather-temp-icon\">\r\n              <i className={`weather-icon owf owf-${data.id}`}></i>\r\n              <div className=\"temperature\">{`${data.temp}°C`}</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"weather-info\">\r\n              <div className=\"humidity\">{`${humidity[lang]}: ${data.humidity}%`}</div>\r\n              <div className=\"wind\">{`${wind[lang]}: ${data.wind} ${lang === 'ru' ? 'м/сек' : 'm/sec'}`}</div>\r\n          </div>\r\n        </div>\r\n  )\r\n}\r\n\r\nexport default Weather;","import React, {useEffect, useState} from 'react';\r\nimport axios from \"axios\";\r\nimport Loader from \"../loader/Loader\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { State } from \"../../redux/stateInterface\";\r\nimport { ExchangeI } from \"../../interfaces/Country\";\r\n\r\n\r\nconst apiKey = '4c35b494485e3affe20481c1';\r\nfunction Usd(props: any) {\r\n const [ratesUSD, setRatesUSD] = useState<ExchangeI[]>([]);\r\n const lang = useSelector((state: State) => state.lang.lang);\r\n\r\n function translate(str:any) {\r\n  if (str === 'INR') {\r\n    return lang === 'en' ? 'INR' : lang === 'ru' ? 'Инд.Рупия' : 'INR';\r\n  }\r\n  if (str === 'EUR') {\r\n    return lang === 'en' ? 'EUR' : lang === 'ru' ? 'Евро' : 'EUR';\r\n  }\r\n  if (str === 'JPY') {\r\n    return lang === 'en' ? 'JPY' : lang === 'ru' ? 'Йена' : 'JPY';\r\n  }\r\n}\r\n\r\nuseEffect(() => {\r\n axios.get(`https://v6.exchangerate-api.com/v6/${apiKey}/latest/USD`).then((response) => {\r\n   const dataUSD: any[] = [];\r\n   if (response.data) {\r\n       dataUSD.push({\r\n         rates: response.data.conversion_rates\r\n       });\r\n     setRatesUSD(dataUSD);\r\n   }\r\n });\r\n}, [setRatesUSD]);\r\n\r\nreturn (\r\n (ratesUSD.length !== 0) && (ratesUSD[0].rates !== undefined) ? <div className=\"exchange-usd curr\">1 {lang === 'en' ? 'USD' : lang === 'ru' ? 'ДОЛ' : 'USD'} -&gt; {ratesUSD[0].rates[props.currency]} {translate(props.currency)}</div> : <Loader />\r\n)\r\n}\r\n\r\nfunction Eur(props:any) {\r\n const [ratesEUR, setRatesEUR] = useState<ExchangeI[]>([]);\r\n\r\n  function translate(str:any) {\r\n      if (str === 'INR') {\r\n        return lang === 'en' ? 'INR' : lang === 'ru' ? 'Инд.Рупия' : 'INR';\r\n      }\r\n      if (str === 'EUR') {\r\n        return lang === 'en' ? 'EUR' : lang === 'ru' ? 'Евро' : 'EUR';\r\n      }\r\n      if (str === 'JPY') {\r\n        return lang === 'en' ? 'JPY' : lang === 'ru' ? 'Йена' : 'JPY';\r\n      }\r\n  }\r\n\r\n const lang = useSelector((state: State) => state.lang.lang);\r\n    useEffect(() => {\r\n     axios.get(`https://v6.exchangerate-api.com/v6/${apiKey}/latest/BYN`).then((response) => {\r\n       const dataEUR: any[] = [];\r\n       if (response.data) {\r\n           dataEUR.push({\r\n             rates: response.data.conversion_rates\r\n           });\r\n         setRatesEUR(dataEUR);\r\n       }\r\n     });\r\n   }, [setRatesEUR]);\r\nreturn (\r\n (ratesEUR.length !== 0) && (ratesEUR[0].rates !== undefined) ? <div className=\"exchange-eur curr\">1 {lang === 'en' ? 'BYN' : lang === 'ru' ? 'Бел.Рубль' : 'BYN'} -&gt; {ratesEUR[0].rates[props.currency]} {translate(props.currency)}</div> : <Loader />\r\n)\r\n}\r\n\r\nfunction Exchange(props:any) {\r\nconst lang:string = useSelector((state: State) => state.lang.lang);\r\nconst title:any = {'en': 'Exchange Rates', 'ru': 'Обменные курсы', 'fr': \"Taux d'échange\"};\r\n return (\r\n  <div className=\"exchange\">\r\n          <h2 className=\"exchange-title\">{title[lang]}</h2>\r\n                                                                \r\n          <Usd currency={props.currency}/>\r\n          <Eur currency={props.currency}/>\r\n          </div>\r\n )\r\n}\r\n\r\nexport default Exchange;","import React from 'react';\n\nimport \"./../../Normalize.css\";\nimport \"./widget.scss\";\nimport Time from './time';\nimport Weather from './weather';\nimport Exchange from './exchange';\n\n\nfunction Widget(props:any) {\n\n  return (\n    <div className=\"widget\">\n      <div className=\"wrap-widget\">\n        <Time capital={props.data.country.capital}/>\n        <Weather capital={props.data.country.capital}/>\n        <Exchange currency={props.currency}/>\n      </div>\n    </div>\n  )\n}\n\nexport default Widget;\n","import React from \"react\";\n\nimport \"./../../Normalize.css\";\nimport \"./video.scss\";\n\nfunction Video(props:any) {\n  return (\n    <div className=\"video\">\n      <div className=\"wrap-video\">\n        <iframe\n          width=\"560\"\n          height=\"315\"\n          src={props.link}\n          allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n        ></iframe>\n      </div>\n    </div>\n  );\n}\n\nexport default Video;\n","import React, { useEffect, useState } from \"react\";\n\nimport \"./../../Normalize.css\";\nimport \"./country.scss\";\n\nimport HeaderCountry from \"./../header-country/header-country\";\nimport CountryDescription from \"./../country-description/country-description\";\nimport Gallery from \"./../gallery/gallery\";\nimport Widget from \"./../widget/widget\";\nimport Video from \"./../video/video\";\nimport { useSelector } from \"react-redux\";\nimport { State } from \"../../redux/stateInterface\";\nimport axios from \"axios\";\nimport { URL } from \"../../Constants\";\nimport Loader from \"../loader/Loader\";\n\nfunction Country() {\n  const country = useSelector((state: State) => state.country.name?.en);\n  const capital = useSelector((state: State) => state);\n  const [response, setResponse] = useState<any | null>(null);\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n    axios.post(URL + \"country\", { country: country }).then(function (response) {\n\n      setResponse(response.data);\n    });\n  }, [setResponse]);\n\n  if (!response) {\n    return (\n      <>\n        <HeaderCountry />\n        <Loader />\n      </>\n    );\n  } else {\n    return (\n      <div>\n        <HeaderCountry />\n        <CountryDescription\n          description={response ? response.description : \"\"}\n          lat={response.latLon.lat}\n          lon={response.latLon.lon}\n          iso={response.iso}\n        />\n        <Gallery images={response.images} />\n        <div className=\"country-data-cols\">\n          <Video link={response.video} />\n          <Widget data={capital} currency={response.currency}/>\n        </div>\n      </div>\n    );\n  }\n}\n//\nexport default Country;\n","import React from 'react';\n\nimport Logo from './../logo/logo';\n\nimport \"./../../Normalize.css\";\nimport \"./footer.scss\";\n\nfunction Footer() {\n\n  return (\n    <footer>\n      <div className=\"col-left\">\n        <Logo />\n      </div>\n      <div className=\"col-right\">\n        <ul>\n          <li><a href=\"https://github.com/mikhail-hursky\">Mikhail Hursky</a></li>\n          <li><a href=\"https://github.com/fedorovichpavel\">Pavel Fedorovich</a></li>\n          <li><a href=\"https://github.com/mig-marina\">Marina Migacheva</a></li>\n          <li><a href=\"https://github.com/reactplanner\">Oleg Borodin</a></li>\n          <li><p>2021</p></li>\n          <li className=\"link-school\"><a href=\"https://rs.school/react/\" target=\"_blank\" title=\"rs-school\"></a></li>\n        </ul>\n      </div>\n    </footer>\n  )\n}\n\nexport default Footer;\n","import React, {useContext} from 'react';\nimport {Context} from '../context/context';\nimport axios from \"axios\";\n\nimport \"./../../Normalize.css\";\nimport \"./modal-login.scss\";\n\ninterface ModalLoginProps {\n  visability: Boolean\n}\n\nconst ModalLogin:React.FunctionComponent<ModalLoginProps>  = ({visability}:ModalLoginProps)=> {\n  const {changeModal} = useContext(Context);\n\n  function loginUser(e: any) {\n    console.log(e);\n      axios({\n         method: 'post',\n         url: 'https://rs-react.herokuapp.com/auth/login',\n         data: {\n           email: e.target[0].value,\n           password: e.target[1].value\n         }\n       }).then(response => console.log(response.data)); \n  }\n\n  return (\n    <div className={visability ? \"modal\" : \"modal modal-hidden\"}>\n      <div className=\"wrap-modal\">\n        <button className=\"reset\" onClick={() => changeModal('login')}>x</button>\n        <form onSubmit={(e) => (e.preventDefault(), loginUser(e))}/*method='post'*/ /*action=\"https://rs-react.herokuapp.com/auth/login\"*/>\n          <div className=\"login\">\n            <label>login: </label><input type=\"text\" name=\"email\" />\n          </div>\n          <div className=\"password\">\n            <label>password: </label><input type=\"password\" name=\"password\" />\n          </div>\n          <div className=\"buttons\">\n            <button className=\"ok\">ok</button>\n            <span> | </span>\n            <button className=\"registration\" onClick={() => (changeModal('login'), changeModal('registration'))}>registration</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default ModalLogin;\n","import axios from \"axios\";\nimport React, { useContext } from \"react\";\nimport { Context } from \"../context/context\";\nimport { URL } from \"../../Constants\";\n\nimport \"./../../Normalize.css\";\nimport \"./modal-registration.scss\";\n\ninterface ModalRegistrationProps {\n  visability: Boolean;\n}\n\nconst ModalRegistration: React.FunctionComponent<ModalRegistrationProps> = ({\n  visability,\n}) => {\n  const { changeModal } = useContext(Context);\n\n  return (\n    <div\n      className={\n        visability\n          ? \"modal-registration\"\n          : \"modal-registration modal-registration-hidden\"\n      }\n    >\n      <div className=\"wrap-modal\">\n        <button className=\"reset\" onClick={() => changeModal(\"registration\")}>\n          x\n        </button>\n        <form\n          onSubmit={(e) => {\n            //auth/registration\n            e.preventDefault();\n            //@ts-ignore\n            getToken(e.target[0].value,e.target[1].value,e.target[2].value,e.target);\n          }}\n        >\n          <div className=\"login\">\n            <label>login: </label>\n            <input type=\"text\" name=\"nickName\" />\n          </div>\n          <div className=\"email\">\n            <label>e-mail: </label>\n            <input type=\"email\" name=\"email\" />\n          </div>\n          <div className=\"password\">\n            <label>password: </label>\n            <input type=\"password\" name=\"password\" />\n          </div>\n          <div className=\"avatar\">\n            <label>Avatar: </label>\n            <input type=\"file\" name=\"avatar\" accept=\"image/png, image/jpeg\" />\n          </div>\n          <div className=\"buttons\">\n            <button type=\"submit\" className=\"ok\">\n              ok\n            </button>\n            <span> | </span>\n            <button\n              className=\"registration\"\n              onClick={(e) => (\n                changeModal(\"registration\"),\n                changeModal(\"login\"),\n                e.preventDefault()\n              )}\n            >\n              log in\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nfunction getToken(\n  nickName: string,\n  email: string,\n  password: string,\n  avatar: any\n) {\n  axios\n    .post(URL + \"auth/registration\", {\n      nickName,\n      password,\n      email,\n    })\n    .then((response) => {\n      console.log(response.data);\n      localStorage.setItem(\"TOKEN\", response.data.token);\n      /* if (avatar[3].value) setAvatar(avatar); */\n    });\n}\n\nfunction setAvatar(avatar: any) {\n  /* const myFormData = new FormData(avatar);\n  myFormData.append(\"filedata\", avatar[3]);\n  console.log(myFormData);\n\n  axios.post(URL + \"upload/avatar\", {\n    headers: {\n      \"Content-Type\": \"multipart/form-data\",\n      Authorization: `Bearer ${localStorage.getItem(\"TOKEN\")}`,\n      \"Access-Control-Allow-Origin\": \"*\",\n    },\n    data: myFormData,\n  }); */\n  const myHeaders = new Headers();\nmyHeaders.append(\"Authorization\", \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuaWNrTmFtZSI6IjEyMzEyMyIsImlhdCI6MTYxNjAwMjQwNSwiZXhwIjoxNjE2MDg4ODA1fQ.KtJ3_I3YyX3afVB_21w-n2oB39XSiGimBa1IgRhwacY\");\nmyHeaders.append(\"Content-Type\", \"multipart/form-data\");\n\nconst formdata = new FormData();\nformdata.append(\"filedata\", avatar[3].files[0]);\nconsole.log(formdata);\n\n\nconst requestOptions = {\n  method: 'POST',\n  headers: myHeaders,\n  body: formdata\n};\n\nfetch(\"https://rs-react.herokuapp.com/upload/avatar\", requestOptions)\n  .then(response => response.text())\n  .then(result => console.log(result))\n  .catch(error => console.log('error', error));\n}\n\nexport default ModalRegistration;\n","import React, {useEffect, useState} from 'react';\n\nimport { Route } from 'react-router-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { BounceLoader } from 'react-spinners';\nimport {Context} from '../context/context';\n\nimport \"./App.scss\"\n\nimport Home from './../home/home';\nimport Country from './../country/country';\nimport Footer from './../footer/footer';\nimport ModalLogin from './../modal-login/modal-login';\nimport ModalRegistration from './../modal-registration/modal-registration';\n\n\nfunction App() {\n  const [domLoading, setDomLoading] = useState(false);\n  const [classNamePreloader, setClassNamePreloader] = useState('preloader');\n  useEffect(() => {\n    window.onload =  (event) => {\n       setClassNamePreloader('preloader preloader-hidden');\n       setTimeout(() => setDomLoading(true), 1000);\n    }\n });\n const [modalLogin, setModalLogin] = useState(false);\n const [modalRegistration, setModalRegistration] = useState(false);\n\n function changeModal(target) {\n  return target === 'login' ? setModalLogin(!modalLogin) : setModalRegistration(!modalRegistration);\n }\n\n //fetch('https://rs-react.herokuapp.com/') .then(response => response.json()) .then(data=> console.log(data))\n\n  return (\n    <Context.Provider value={{\n      changeModal\n    }}>\n    <BrowserRouter>\n      <div className=\"App\">\n        {domLoading ? '' : <div className={classNamePreloader}><BounceLoader css=\"position:absolute;top:calc(50% - 250px);left:calc(50% - 250px);\" size={500} color='#49a4b0' /></div>}\n        <Route path=\"/travel-app\" component={Home}/>\n        <Route path=\"/country\"component={Country}/>\n        <Footer />\n        <ModalLogin visability={modalLogin} />\n        <ModalRegistration visability={modalRegistration} />\n      </div>\n    </BrowserRouter>\n    </Context.Provider>\n  );\n}\n\nexport default App;\n","import { COUNTRY } from \"../actionTypes\";\n\nconst initialState = {\n  name: null,\n  image: null,\n  capital: null,\n};\n\nexport const countryReducer = (state = initialState, action: any) => {\n  switch (action.type) {\n    case COUNTRY:\n      return {\n        ...state,\n        name: action.payload.name,\n        image: action.payload.image,\n        capital: action.payload.capital,\n      };\n    default:\n      return state;\n  }\n};\n","import { LANG } from \"../actionTypes\";\n\nconst initialState:any = {\n  lang: localStorage.getItem(\"language\") ? localStorage.getItem(\"language\") : \"en\",\n};\n\nexport const langReducer = (state = initialState, action: any) => {\n  switch (action.type) {\n    case LANG:\n      localStorage.setItem(\"language\", action.payload);\n      return { ...state, lang: action.payload };\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from \"redux\";\nimport { countryReducer } from \"./countryReducer\";\nimport { langReducer } from \"./langReducer\";\n\nexport const rootReducer = combineReducers({\n  lang: langReducer,\n  country:countryReducer,\n});\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./Normalize.css\";\nimport App from \"./components/app/App.js\";\nimport { Provider } from \"react-redux\";\nimport { rootReducer } from \"./redux/reducer/rootReducer\";\nimport { createStore } from \"redux\";\n\nconst store = createStore(rootReducer);\n\nconst app = (\n  <Provider store={store}>\n    <App />\n  </Provider>\n);\n\nReactDOM.render(app, document.getElementById(\"root\"));\n","export default function MapboxLanguage(options) {\r\n options = Object.assign({}, options);\r\n if (!(this instanceof MapboxLanguage)) {\r\n   throw new Error('MapboxLanguage needs to be called with the new keyword');\r\n }\r\n\r\n this.setLanguage = this.setLanguage.bind(this);\r\n this._initialStyleUpdate = this._initialStyleUpdate.bind(this);\r\n\r\n this._defaultLanguage = options.defaultLanguage;\r\n this._isLanguageField = options.languageField || /^name_/;\r\n this._getLanguageField = options.getLanguageField || function nameField(language) {\r\n   return language === 'mul' ? 'name' : `name_${language}`;\r\n };\r\n this._languageSource = options.languageSource || null;\r\n this._languageTransform = options.languageTransform || function (style, language) {\r\n   if (language === 'ar') {\r\n     return noSpacing(style);\r\n   } else {\r\n     return standardSpacing(style);\r\n   }\r\n };\r\n this._excludedLayerIds = options.excludedLayerIds || [];\r\n this.supportedLanguages = options.supportedLanguages || ['ar', 'de', 'en', 'es', 'fr', 'it', 'ja', 'ko', 'mul', 'pt', 'ru', 'zh-Hans', 'zh-Hant'];\r\n}\r\n\r\nfunction standardSpacing(style) {\r\n var changedLayers = style.layers.map(function (layer) {\r\n   if (!(layer.layout || {})['text-field']) return layer;\r\n   var spacing = 0;\r\n   if (layer['source-layer'] === 'state_label') {\r\n     spacing = 0.15;\r\n   }\r\n   if (layer['source-layer'] === 'marine_label') {\r\n     if (/-lg/.test(layer.id)) {\r\n       spacing = 0.25;\r\n     }\r\n     if (/-md/.test(layer.id)) {\r\n       spacing = 0.15;\r\n     }\r\n     if (/-sm/.test(layer.id)) {\r\n       spacing = 0.1;\r\n     }\r\n   }\r\n   if (layer['source-layer'] === 'place_label') {\r\n     if (/-suburb/.test(layer.id)) {\r\n       spacing = 0.15;\r\n     }\r\n     if (/-neighbour/.test(layer.id)) {\r\n       spacing = 0.1;\r\n     }\r\n     if (/-islet/.test(layer.id)) {\r\n       spacing = 0.01;\r\n     }\r\n   }\r\n   if (layer['source-layer'] === 'airport_label') {\r\n     spacing = 0.01;\r\n   }\r\n   if (layer['source-layer'] === 'rail_station_label') {\r\n     spacing = 0.01;\r\n   }\r\n   if (layer['source-layer'] === 'poi_label') {\r\n     if (/-scalerank/.test(layer.id)) {\r\n       spacing = 0.01;\r\n     }\r\n   }\r\n   if (layer['source-layer'] === 'road_label') {\r\n     if (/-label-/.test(layer.id)) {\r\n       spacing = 0.01;\r\n     }\r\n     if (/-shields/.test(layer.id)) {\r\n       spacing = 0.05;\r\n     }\r\n   }\r\n   return Object.assign({}, layer, {\r\n     layout: Object.assign({}, layer.layout, {\r\n       'text-letter-spacing': spacing\r\n     })\r\n   });\r\n });\r\n\r\n return Object.assign({}, style, {\r\n   layers: changedLayers\r\n });\r\n}\r\n\r\nfunction noSpacing(style) {\r\n var changedLayers = style.layers.map(function (layer) {\r\n   if (!(layer.layout || {})['text-field']) return layer;\r\n   var spacing = 0;\r\n   return Object.assign({}, layer, {\r\n     layout: Object.assign({}, layer.layout, {\r\n       'text-letter-spacing': spacing\r\n     })\r\n   });\r\n });\r\n\r\n return Object.assign({}, style, {\r\n   layers: changedLayers\r\n });\r\n}\r\n\r\nvar isTokenField = /^\\{name/;\r\nfunction isFlatExpressionField(isLangField, property) {\r\n var isGetExpression = Array.isArray(property) && property[0] === 'get';\r\n if (isGetExpression && isTokenField.test(property[1])) {\r\n   console.warn('This plugin no longer supports the use of token syntax (e.g. {name}). Please use a get expression. See https://docs.mapbox.com/mapbox-gl-js/style-spec/expressions/ for more details.');\r\n }\r\n\r\n return isGetExpression && isLangField.test(property[1]);\r\n}\r\n\r\nfunction adaptNestedExpressionField(isLangField, property, languageFieldName) {\r\n if (Array.isArray(property)) {\r\n   for (let i = 1; i < property.length; i++) {\r\n     if (Array.isArray(property[i])) {\r\n       if (isFlatExpressionField(isLangField, property[i])) {\r\n         property[i][1] = languageFieldName;\r\n       }\r\n       adaptNestedExpressionField(isLangField, property[i], languageFieldName);\r\n     }\r\n   }\r\n }\r\n}\r\n\r\nfunction adaptPropertyLanguage(isLangField, property, languageFieldName) {\r\n if (isFlatExpressionField(isLangField, property)) {\r\n   property[1] = languageFieldName;\r\n }\r\n\r\n adaptNestedExpressionField(isLangField, property, languageFieldName);\r\n\r\n // handle special case of bare ['get', 'name'] expression by wrapping it in a coalesce statement\r\n if (property[0] === 'get' && property[1] === 'name') {\r\n   var defaultProp = property.slice();\r\n   var adaptedProp = ['get', languageFieldName];\r\n   property = ['coalesce', adaptedProp, defaultProp];\r\n }\r\n\r\n return property;\r\n}\r\n\r\nfunction changeLayerTextProperty(isLangField, layer, languageFieldName, excludedLayerIds) {\r\n if (layer.layout && layer.layout['text-field'] && excludedLayerIds.indexOf(layer.id) === -1) {\r\n   return Object.assign({}, layer, {\r\n     layout: Object.assign({}, layer.layout, {\r\n       'text-field': adaptPropertyLanguage(isLangField, layer.layout['text-field'], languageFieldName)\r\n     })\r\n   });\r\n }\r\n return layer;\r\n}\r\n\r\nfunction findStreetsSource(style) {\r\n var sources = Object.keys(style.sources).filter(function (sourceName) {\r\n   var url = style.sources[sourceName].url;\r\n   // the source URL can reference the source version or the style version\r\n   // this check and the error forces users to migrate to styles using source version 8\r\n   return url && url.indexOf('mapbox.mapbox-streets-v8') > -1 || /mapbox-streets-v[1-9][1-9]/.test(url);\r\n });\r\n if (!sources.length) throw new Error('If using MapboxLanguage with a Mapbox style, the style must be based on vector tile version 8, e.g. \"streets-v11\"');\r\n return sources[0];\r\n}\r\n\r\n/**\r\n* Explicitly change the language for a style.\r\n* @param {object} style - Mapbox GL style to modify\r\n* @param {string} language - The language iso code\r\n* @returns {object} the modified style\r\n*/\r\nMapboxLanguage.prototype.setLanguage = function (style, language) {\r\n if (this.supportedLanguages.indexOf(language) < 0) throw new Error('Language ' + language + ' is not supported');\r\n var streetsSource = this._languageSource || findStreetsSource(style);\r\n if (!streetsSource) return style;\r\n\r\n var field = this._getLanguageField(language);\r\n var isLangField = this._isLanguageField;\r\n var excludedLayerIds = this._excludedLayerIds;\r\n var changedLayers = style.layers.map(function (layer) {\r\n   if (layer.source === streetsSource) return changeLayerTextProperty(isLangField, layer, field, excludedLayerIds);\r\n   return layer;\r\n });\r\n\r\n var languageStyle = Object.assign({}, style, {\r\n   layers: changedLayers\r\n });\r\n\r\n return this._languageTransform(languageStyle, language);\r\n};\r\n\r\nMapboxLanguage.prototype._initialStyleUpdate = function () {\r\n var style = this._map.getStyle();\r\n var language = this._defaultLanguage || browserLanguage(this.supportedLanguages);\r\n\r\n // We only update the style once\r\n this._map.off('styledata', this._initialStyleUpdate);\r\n this._map.setStyle(this.setLanguage(style, language));\r\n};\r\n\r\nfunction browserLanguage(supportedLanguages) {\r\n var language = navigator.languages ? navigator.languages[0] : (navigator.language || navigator.userLanguage);\r\n var parts = language.split('-');\r\n var languageCode = language;\r\n if (parts.length > 1) {\r\n   languageCode = parts[0];\r\n }\r\n if (supportedLanguages.indexOf(languageCode) > -1) {\r\n   return languageCode;\r\n }\r\n return null;\r\n}\r\n\r\nMapboxLanguage.prototype.onAdd = function (map) {\r\n this._map = map;\r\n this._map.on('styledata', this._initialStyleUpdate);\r\n this._container = document.createElement('div');\r\n return this._container;\r\n};\r\n\r\nMapboxLanguage.prototype.onRemove = function () {\r\n this._map.off('styledata', this._initialStyleUpdate);\r\n this._map = undefined;\r\n};\r\n\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n module.exports = MapboxLanguage;\r\n} else {\r\n window.MapboxLanguage = MapboxLanguage;\r\n}"],"sourceRoot":""}